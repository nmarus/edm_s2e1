# sparkbot-token

#### Token Management for Cisco Spark Bots
Gets auth token from Cisco Spark account via a Spark application. Used in [Flint](https://github.com/nmarus/flint). Inspired by work done in this [project.](https://github.com/marchfederico/SparkToken) 

**Note: This will only work for consumer accounts. Corporate/SSO accounts haven't been tested and will most likely not work.**

```js
var SparkBotToken = require('sparkbot-token');

var config = {
  clientID: 'Cab7fa9b26c1571f797086d427ce347f3ec99616f31390e4a07ff3d84af414026',
  clientSecret: '0d3673535c5b9d84a575735bb01fbb93f499bb19454bafa372bbb38355bdf4fc',
  redirectURL: 'http://myapp.com',
  username: 'mybot@myapp.com',
  password: 'supers3cret'
};

var sparkBotToken = new SparkBotToken(config);

sparkBotToken.get(function(err, response) {
  if(!err) console.dir(response);
});
```


## Installation

This module can be installed via NPM:
```bash
npm install sparkbot-token --save
```


## Reference

### sparkBotToken.get(callback(error, response));
Get or refresh a token.
* `response` : json reponse object

### Example Response Object
```js
{
  access_token: 'MyGzYjTE0Mhl00WIwYN2E2E1DItMDQwLWFiYYzItYQ5OzliYzctZmI4TQOMGQyOT',
  expires_in: 1209599,
  refresh_token: 'xjMGYyMjBkMTItYjRk0MTM0GOC0WIMTc1OTl3ZGMtMwZThmNTA4LUzYtNjAwNZmU',
  refresh_token_expires_in: 7775999
}
```

